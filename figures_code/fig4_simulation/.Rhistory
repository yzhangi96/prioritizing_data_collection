scale_y_continuous(limits = c(-1, 0), breaks = seq(-1, 0, by = 0.1)) +
theme_minimal(base_size = 16) +
theme(
panel.grid = element_blank(),
axis.line = element_line(color = "black"),
plot.background = element_rect(fill = "white", color = NA),
panel.background = element_rect(fill = "white", color = NA)
)
p2 <- ggplot(df, aes(x = AvgNegKL, y = NegRelImp)) +
geom_point(size = 3, color = "black") +
geom_smooth(method = "lm", se = FALSE, linetype = "dashed", color = "gray40") +
labs(
title = "Predicting model performance without outcome data",
x = "Avg Neg KL",
y = "Avg Neg Relative Excess MSE "
) +
annotate(
"text", x = -0.18, y = 0, label = "y=0.61+0.92x",
color = "black", size = 3.5, hjust = 0
) +
annotate(
"text", x = -0.18, y = -0.1, label = "Corr = 0.76",
color = "black", size = 3.5, hjust = 0
) +
scale_y_continuous(limits = c(-1, 0), breaks = seq(-1, 0, by = 0.1)) +
theme_minimal(base_size = 16) +
theme(
panel.grid = element_blank(),
axis.line = element_line(color = "black"),
plot.background = element_rect(fill = "white", color = NA),
panel.background = element_rect(fill = "white", color = NA)
)
p_left <- p +
labs(title = NULL)
p_right <- p2 +
labs(title = NULL) +
theme(
axis.title.y = element_blank(),
)
combined <- (p_left + p_right) +
plot_layout(ncol = 2) +
plot_annotation(
title = "Predicting model performance without outcome data"
) &
theme(
plot.title = element_text(hjust = 0.5)  # center the shared title
)
print(combined)
p2 <- ggplot(df, aes(x = AvgNegKL, y = NegRelImp)) +
geom_point(size = 3, color = "black") +
geom_smooth(method = "lm", se = FALSE, linetype = "dashed", color = "gray40") +
labs(
title = "Predicting model performance without outcome data",
x = "Avg Neg KL",
y = "Avg Neg Relative Excess MSE "
) +
annotate(
"text", x = -0.25, y = 0, label = "y=0.61+0.92x",
color = "black", size = 3.5, hjust = 0
) +
annotate(
"text", x = -0.25, y = -0.1, label = "Corr = 0.76",
color = "black", size = 3.5, hjust = 0
) +
scale_y_continuous(limits = c(-1, 0), breaks = seq(-1, 0, by = 0.1)) +
theme_minimal(base_size = 16) +
theme(
panel.grid = element_blank(),
axis.line = element_line(color = "black"),
plot.background = element_rect(fill = "white", color = NA),
panel.background = element_rect(fill = "white", color = NA)
)
p_left <- p +
labs(title = NULL)
p_right <- p2 +
labs(title = NULL) +
theme(
axis.title.y = element_blank(),
)
combined <- (p_left + p_right) +
plot_layout(ncol = 2) +
plot_annotation(
title = "Predicting model performance without outcome data"
) &
theme(
plot.title = element_text(hjust = 0.5)  # center the shared title
)
print(combined)
p2 <- ggplot(df, aes(x = AvgNegKL, y = NegRelImp)) +
geom_point(size = 3, color = "black") +
geom_smooth(method = "lm", se = FALSE, linetype = "dashed", color = "gray40") +
labs(
title = "Predicting model performance without outcome data",
x = "Avg Neg KL",
y = "Avg Neg Relative Excess MSE "
) +
annotate(
"text", x = -0.20, y = 0, label = "y=0.61+0.92x",
color = "black", size = 3.5, hjust = 0
) +
annotate(
"text", x = -0.20, y = -0.1, label = "Corr = 0.76",
color = "black", size = 3.5, hjust = 0
) +
scale_y_continuous(limits = c(-1, 0), breaks = seq(-1, 0, by = 0.1)) +
theme_minimal(base_size = 16) +
theme(
panel.grid = element_blank(),
axis.line = element_line(color = "black"),
plot.background = element_rect(fill = "white", color = NA),
panel.background = element_rect(fill = "white", color = NA)
)
p_left <- p +
labs(title = NULL)
p_right <- p2 +
labs(title = NULL) +
theme(
axis.title.y = element_blank(),
)
combined <- (p_left + p_right) +
plot_layout(ncol = 2) +
plot_annotation(
title = "Predicting model performance without outcome data"
) &
theme(
plot.title = element_text(hjust = 0.5)  # center the shared title
)
print(combined)
corr_kl <- cor(df$NegRelImp, df$AvgNegKL)
corr_duc <- cor(df$NegRelImp, df$AvgDUC)
corr_duc
corr_kl
p <- ggplot(df, aes(x = AvgDUC, y = NegRelImp)) +
geom_point(size = 3, color = "black") +
geom_abline(slope = -1, intercept = 0, linetype = "dashed", color = "gray40") +
labs(
title = "Predicting model performance without outcome data",
x = "Avg Estimated DUC",
y = "Avg Neg Relative Excess MSE "
) +
annotate(
"text", x = 0.72, y = 0, label = "y = -x",
color = "black", size = 3.5, hjust = 0
) +
annotate(
"text", x = 0.72, y = -0.1, label = "Corr = -0.99",
color = "black", size = 3.5, hjust = 0
) +
scale_x_continuous(limits = c(0, 1), breaks = seq(0, 1, by = 0.1)) +
scale_y_continuous(limits = c(-1, 0), breaks = seq(-1, 0, by = 0.1)) +
theme_minimal(base_size = 16) +
theme(
panel.grid = element_blank(),
axis.line = element_line(color = "black"),
plot.background = element_rect(fill = "white", color = NA),
panel.background = element_rect(fill = "white", color = NA)
)
p2 <- ggplot(df, aes(x = AvgNegKL, y = NegRelImp)) +
geom_point(size = 3, color = "black") +
geom_smooth(method = "lm", se = FALSE, linetype = "dashed", color = "gray40") +
labs(
title = "Predicting model performance without outcome data",
x = "Avg Neg KL",
y = "Avg Neg Relative Excess MSE "
) +
annotate(
"text", x = -0.20, y = 0, label = "y=0.61+0.92x",
color = "black", size = 3.5, hjust = 0
) +
annotate(
"text", x = -0.20, y = -0.1, label = "Corr = -0.76",
color = "black", size = 3.5, hjust = 0
) +
scale_y_continuous(limits = c(-1, 0), breaks = seq(-1, 0, by = 0.1)) +
theme_minimal(base_size = 16) +
theme(
panel.grid = element_blank(),
axis.line = element_line(color = "black"),
plot.background = element_rect(fill = "white", color = NA),
panel.background = element_rect(fill = "white", color = NA)
)
p_left <- p +
labs(title = NULL)
p_right <- p2 +
labs(title = NULL) +
theme(
axis.title.y = element_blank(),
)
combined <- (p_left + p_right) +
plot_layout(ncol = 2) +
plot_annotation(
title = "Predicting model performance without outcome data"
) &
theme(
plot.title = element_text(hjust = 0.5)  # center the shared title
)
print(combined)
avg_results_kl_score <- read.csv("data/kl_score_x_avg_v3.csv")
df<- data.frame(
AvgDUC = avg_ducs,
NegRelImp = -1*avg_rel_imp,
AvgNegKL = -1*avg_results_kl_score$kl,
AvgNegScoreX = -1*avg_results_kl_score$score_x
)
## Calculate corr and linear fit for plots
coefs_kl <- coef(lm(avg_rel_imp ~ df$AvgNegKL))
corr_kl <- cor(df$NegRelImp, df$AvgNegKL)
corr_duc <- cor(df$NegRelImp, df$AvgDUC)
coefs_score <- coef(lm(avg_rel_imp ~ df$AvgNegScoreX))
corr_score <- cor(df$NegRelImp, df$AvgNegScoreX)
corr_score
coefs_score
p <- ggplot(df, aes(x = AvgDUC, y = NegRelImp)) +
geom_point(size = 3, color = "black") +
geom_abline(slope = -1, intercept = 0, linetype = "dashed", color = "gray40") +
labs(
x = "Avg Estimated DUC",
y = "Avg Neg Relative Excess MSE "
) +
annotate(
"text", x = 0.72, y = 0, label = "y = -x",
color = "black", size = 3.5, hjust = 0
) +
annotate(
"text", x = 0.72, y = -0.1, label = "Corr = -0.99",
color = "black", size = 3.5, hjust = 0
) +
scale_x_continuous(limits = c(0, 1), breaks = seq(0, 1, by = 0.1)) +
scale_y_continuous(limits = c(-1, 0), breaks = seq(-1, 0, by = 0.1)) +
theme_minimal(base_size = 16) +
theme(
panel.grid = element_blank(),
axis.line = element_line(color = "black"),
plot.background = element_rect(fill = "white", color = NA),
panel.background = element_rect(fill = "white", color = NA)
)
p2 <- ggplot(df, aes(x = AvgNegKL, y = NegRelImp)) +
geom_point(size = 3, color = "black") +
geom_smooth(method = "lm", se = FALSE, linetype = "dashed", color = "gray40") +
labs(
x = "Avg Neg KL",
) +
annotate(
"text", x = -0.20, y = 0, label = "y=0.61+0.92x",
color = "black", size = 3.5, hjust = 0
) +
annotate(
"text", x = -0.20, y = -0.1, label = "Corr = -0.76",
color = "black", size = 3.5, hjust = 0
) +
scale_y_continuous(limits = c(-1, 0), breaks = seq(-1, 0, by = 0.1)) +
theme_minimal(base_size = 16) +
theme(
panel.grid = element_blank(),
axis.line = element_line(color = "black"),
plot.background = element_rect(fill = "white", color = NA),
panel.background = element_rect(fill = "white", color = NA)
)
p3 <- ggplot(df, aes(x = AvgNegScoreX, y = NegRelImp)) +
geom_point(size = 3, color = "black") +
geom_smooth(method = "lm", se = FALSE, linetype = "dashed", color = "gray40") +
labs(
x = "Avg Neg Score",
) +
annotate(
"text", x = -0.20, y = 0, label = "y=1+0.74x",
color = "black", size = 3.5, hjust = 0
) +
annotate(
"text", x = -0.20, y = -0.1, label = "Corr = -0.90",
color = "black", size = 3.5, hjust = 0
) +
scale_y_continuous(limits = c(-1, 0), breaks = seq(-1, 0, by = 0.1)) +
theme_minimal(base_size = 16) +
theme(
panel.grid = element_blank(),
axis.line = element_line(color = "black"),
plot.background = element_rect(fill = "white", color = NA),
panel.background = element_rect(fill = "white", color = NA)
)
combined <- (p + p2 + p3) +
plot_layout(ncol = 3) +
plot_annotation(
title = "Predicting model performance without outcome data"
) &
theme(
plot.title = element_text(hjust = 0.5)
)
print(combined)
p3 <- ggplot(df, aes(x = AvgNegScoreX, y = NegRelImp)) +
geom_point(size = 3, color = "black") +
geom_smooth(method = "lm", se = FALSE, linetype = "dashed", color = "gray40") +
labs(
x = "Avg Neg Score",
) +
# annotate(
#   "text", x = -0.20, y = 0, label = "y=1+0.74x",
#   color = "black", size = 3.5, hjust = 0
# ) +
# annotate(
#   "text", x = -0.20, y = -0.1, label = "Corr = -0.90",
#   color = "black", size = 3.5, hjust = 0
# ) +
scale_y_continuous(limits = c(-1, 0), breaks = seq(-1, 0, by = 0.1)) +
theme_minimal(base_size = 16) +
theme(
panel.grid = element_blank(),
axis.line = element_line(color = "black"),
plot.background = element_rect(fill = "white", color = NA),
panel.background = element_rect(fill = "white", color = NA)
)
combined <- (p + p2 + p3) +
plot_layout(ncol = 3) +
plot_annotation(
title = "Predicting model performance without outcome data"
) &
theme(
plot.title = element_text(hjust = 0.5)
)
print(combined)
p3 <- ggplot(df, aes(x = AvgNegScoreX, y = NegRelImp)) +
geom_point(size = 3, color = "black") +
geom_smooth(method = "lm", se = FALSE, linetype = "dashed", color = "gray40") +
labs(
x = "Avg Neg Score",
) +
annotate(
"text", x = -0.70, y = 0, label = "y=1+0.74x",
color = "black", size = 3.5, hjust = 0
) +
annotate(
"text", x = -0.70, y = -0.1, label = "Corr = -0.90",
color = "black", size = 3.5, hjust = 0
) +
scale_y_continuous(limits = c(-1, 0), breaks = seq(-1, 0, by = 0.1)) +
theme_minimal(base_size = 16) +
theme(
panel.grid = element_blank(),
axis.line = element_line(color = "black"),
plot.background = element_rect(fill = "white", color = NA),
panel.background = element_rect(fill = "white", color = NA)
)
combined <- (p + p2 + p3) +
plot_layout(ncol = 3) +
plot_annotation(
title = "Predicting model performance without outcome data"
) &
theme(
plot.title = element_text(hjust = 0.5)
)
print(combined)
p3 <- ggplot(df, aes(x = AvgNegScoreX, y = NegRelImp)) +
geom_point(size = 3, color = "black") +
geom_smooth(method = "lm", se = FALSE, linetype = "dashed", color = "gray40") +
labs(
x = "Avg Neg Score",
) +
annotate(
"text", x = -0.75, y = 0, label = "y=1+0.74x",
color = "black", size = 3.5, hjust = 0
) +
annotate(
"text", x = -0.75, y = -0.1, label = "Corr = -0.90",
color = "black", size = 3.5, hjust = 0
) +
scale_y_continuous(limits = c(-1, 0), breaks = seq(-1, 0, by = 0.1)) +
theme_minimal(base_size = 16) +
theme(
panel.grid = element_blank(),
axis.line = element_line(color = "black"),
plot.background = element_rect(fill = "white", color = NA),
panel.background = element_rect(fill = "white", color = NA)
)
combined <- (p + p2 + p3) +
plot_layout(ncol = 3) +
plot_annotation(
title = "Predicting model performance without outcome data"
) &
theme(
plot.title = element_text(hjust = 0.5)
)
print(combined)
p3 <- ggplot(df, aes(x = AvgNegScoreX, y = NegRelImp)) +
geom_point(size = 3, color = "black") +
geom_smooth(method = "lm", se = FALSE, linetype = "dashed", color = "gray40") +
labs(
x = "Avg Neg Score",
) +
annotate(
"text", x = -0.65, y = 0, label = "y=1+0.74x",
color = "black", size = 3.5, hjust = 0
) +
annotate(
"text", x = -0.65, y = -0.1, label = "Corr = -0.90",
color = "black", size = 3.5, hjust = 0
) +
scale_y_continuous(limits = c(-1, 0), breaks = seq(-1, 0, by = 0.1)) +
theme_minimal(base_size = 16) +
theme(
panel.grid = element_blank(),
axis.line = element_line(color = "black"),
plot.background = element_rect(fill = "white", color = NA),
panel.background = element_rect(fill = "white", color = NA)
)
combined <- (p + p2 + p3) +
plot_layout(ncol = 3) +
plot_annotation(
title = "Predicting model performance without outcome data"
) &
theme(
plot.title = element_text(hjust = 0.5)
)
print(combined)
p2 <- p2 +
theme(
axis.title.y = element_blank(),
axis.text.y  = element_blank(),
axis.ticks.y = element_blank()
)
p3 <- p3 +
theme(
axis.title.y = element_blank(),
axis.text.y  = element_blank(),
axis.ticks.y = element_blank()
)
combined <- (p + p2 + p3) +
plot_layout(ncol = 3) +
plot_annotation(
title = "Predicting model performance without outcome data"
) &
theme(
plot.title = element_text(hjust = 0.5)
)
print(combined)
p2 <- p2 +
theme(
axis.title.y = element_blank(),
)
p3 <- p3 +
theme(
axis.title.y = element_blank(),
)
combined <- (p + p2 + p3) +
plot_layout(ncol = 3) +
plot_annotation(
title = "Predicting model performance without outcome data"
) &
theme(
plot.title = element_text(hjust = 0.5)
)
print(combined)
p2 <- ggplot(df, aes(x = AvgNegKL, y = NegRelImp)) +
geom_point(size = 3, color = "black") +
geom_smooth(method = "lm", se = FALSE, linetype = "dashed", color = "gray40") +
labs(
x = "Avg Neg KL",
) +
annotate(
"text", x = -0.20, y = 0, label = "y=0.61+0.92x",
color = "black", size = 3.5, hjust = 0
) +
annotate(
"text", x = -0.20, y = -0.1, label = "Corr = -0.76",
color = "black", size = 3.5, hjust = 0
) +
scale_y_continuous(limits = c(-1, 0), breaks = seq(-1, 0, by = 0.1)) +
theme_minimal(base_size = 16) +
theme(
panel.grid = element_blank(),
axis.line = element_line(color = "black"),
plot.background = element_rect(fill = "white", color = NA),
panel.background = element_rect(fill = "white", color = NA)
)
p3 <- ggplot(df, aes(x = AvgNegScoreX, y = NegRelImp)) +
geom_point(size = 3, color = "black") +
geom_smooth(method = "lm", se = FALSE, linetype = "dashed", color = "gray40") +
labs(
x = "Avg Neg Score",
) +
annotate(
"text", x = -0.65, y = 0, label = "y=1+0.74x",
color = "black", size = 3.5, hjust = 0
) +
annotate(
"text", x = -0.65, y = -0.1, label = "Corr = -0.90",
color = "black", size = 3.5, hjust = 0
) +
scale_y_continuous(limits = c(-1, 0), breaks = seq(-1, 0, by = 0.1)) +
theme_minimal(base_size = 16) +
theme(
panel.grid = element_blank(),
axis.line = element_line(color = "black"),
plot.background = element_rect(fill = "white", color = NA),
panel.background = element_rect(fill = "white", color = NA)
)
p2 <- p2 +
theme(
axis.title.y = element_blank(),
)
p3 <- p3 +
theme(
axis.title.y = element_blank(),
)
combined <- (p + p2 + p3) +
plot_layout(ncol = 3) +
plot_annotation(
title = "Predicting model performance without outcome data"
) &
theme(
plot.title = element_text(hjust = 0.5)
)
print(combined)
